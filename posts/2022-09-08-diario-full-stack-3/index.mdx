---
title: Diário Fullstack 3
subtitle: Iniciando meus estudos em banco de dados e entendendo ACID
description:
hero_image: "/assets/uploads/cover/fullstack.png"
date: 2022-09-08 10:00:00
author: Allan Ramos
category: 'Back-end'
series: 'Virando fullstack'
tags: ['Banco de Dados']
---

No diário anterior você percebeu que eu fiz apenas um `Hello world` para sentir que comecei alguma coisa, e agora é a hora de parar, respirar e estudar.

O primeiro ponto que preciso entender é: **que tipo de banco de dados usarei?** relacional ou não relacional(noSQL)? Se for noSQL, ainda posso escolher entre bancos **colunares**, **baseado em grafos**, **documentos** e **chave-valor.**

Para começar nessa jornada, meu caro amigo Rafael Tardivo me recomendo um curso de um indiano porreta do Youtube, [**Hussein Nasser, Database Engines Crash Course**](https://www.udemy.com/course/database-engines-crash-course/), que consegui numa promoção, pagando menos de R$ 29,90.

# ACID

Como primeiro tópico do curso, Nasser inicia falando de algo que já tinha visto na faculdade - partiu rever material - que é "A.C.I.D".

**ACID** é uma sigla que representa os 4 pilares necessários para a realização de uma transação em um banco de dados. Essa sigla representa:

1. Atomicidade;
2. Consistência;
3. Isolamento;
4. Durabilidade.

Transação? O que é isso?

## O que é uma transação

Uma transação é um conjunto de operações(queries) tratadas como apenas uma. Ex: você precisa fazer um INSERT em uma conta bancária e depois um UPDATE. Essas 2 operações só ficarão permanentes no banco de dados se ambos forem executadas com sucesso. Se houver falha em alguma delas, é possível cancelar a transação, fazendo que com essas operações sejam descartadas, inclusive as que foram bem sucedidas.

![Fluxo de uma transação](/assets/uploads/posts/diario-full-stack-3/transacao.png)
Imagem adaptada do artigo da [Fauna](https://fauna.com/blog/database-transaction)

# Atomicidade

**Atomicidade**, o primeiro dos conceitos, significa que uma transação ou será totalmente executada, ou não será executada.

Ex: recentemente eu fui no concerto do Senhor dos Anéis aqui no Ibirapuera - foi top, inclusive. Eu precisei reservar meu assento e depois efetuar seu pagamento. Da mesma forma, podemos pensar que essas duas ações fazem parte de uma mesma operação(transação):

1. Reservar meu assento
2. Pagar pelo assento

A transação garantirá que ambas as operações, reserva e pagamento, mesmo que independentes, ocorrerão em um mesmo bloco de execução. Se qualquer uma das duas falhar, a transação toda será revertida, e minha reserva será liberada para outra transação.

## Isolamento

Uma transação em andamento deve permanecer isolada de outra transação, ou seja, uma transação não deve interferir em outra transação concorrente.

Pensando nisso, surge outro conceito em banco de dados que se chama *"níveis de isolamento"*(isolation levels), que é justamente isso: transações afetando, ou não, ou até que ponto, outras transação que são executadas simultaneamente. Quando existe essa interferência, chamaremos isso de *"fenômeno de leitura"*(read phenomenon).

### Fenômeno de leitura



### Níveis de isolamento

# Referências

## Cursos

- https://www.udemy.com/course/database-engines-crash-course

## Transação

- https://www.youtube.com/watch?v=P80Js_qClUE
- https://fauna.com/blog/database-transaction

## ACID

- https://blog.betrybe.com/tecnologia/acid-porque-usar/
- https://www.geeksforgeeks.org/acid-properties-in-dbms/
- https://www.youtube.com/watch?v=pomxJOFVcQs

### Atomicidade

- http://www.bosontreinamentos.com.br/bancos-de-dados/conceitos-de-bancos-de-dados-o-que-significa-acid/
- https://fabiojaniolima.gitbooks.io/banco-de-dados-modelagem-de-dados/content/capitulo-1/1.6-ACID-atomicidade-consistencia-isolamento-e-durabilidade.html
- https://medium.com/opensanca/o-que-é-acid-59b11a81e2c6

### Isolamento

- https://dev.to/techschoolguru/understand-isolation-levels-read-phenomena-in-mysql-postgres-c2e
- https://www.youtube.com/watch?v=4EajrPgJAk0
- https://www.youtube.com/watch?v=EA1sjQb_qpQ